# 開発標準、基本ルール

## 命名規則

### 基本的なケース

- フォルダ名、ファイル名は `kebab-case` を利用する
- コンポーネント名は`PascalCase`を利用する
- 定数は `camelCase` を利用する。
- テーブルスキーマ
  - テーブル名は `PascalCase` を利用する
  - フィールド名は `camelCase` を利用する
- その他命名規則は React/Typescript 標準に準ずる
- 記法などはできるだけNEXT.jsの公式ドキュメントに合わせる。
  - NEXT.jsの文化にできるだけ寄り添い、サンプルコードなどから書き方を真似していくのが望ましい。
  - https://nextjs.org/docs

### ファイルの種類

- service 
  - コンポーネントから呼び出される。
  - データベースのデータを取得したり更新したりするファイル。
  - データ追加、更新などのミューテーションを実行する場合はサーバーアクションとして実装する。
- component : pageで読み込まれるコンポーネント。直接DBにアクセスしない。

### ファイルの種類ごとのファイル名のルール

- service関連

  - サーバーアクションのファイルは、`xxxx-action.ts`、機能名は`xxxXxxxAction`とする。
  - 一覧取得のクエリは、`list-xxxx.ts`、機能名は`listXxxx`とする。
  - 1件データ取得のクエリは、`get-xxxx.ts`、機能名は`getXxxx`とする。
  - データ追加のミューテーションは、`create-xxxx-action.ts`、機能名は`createXxxxAction`とする。
  - データ更新のミューテーションは、`update-xxxx-action.ts`、機能名は`upddateXxxxAction`とする。
  - データ削除のミューテーションは、`delete-xxxx-action.ts`、機能名は`deleteXxxxAction`とする。

- URLのパス階層
  - 基本、`(複数系)/(id)/(複数形)/(id)`のように階層を作る。
    - 例）`/groups/(id)/tasks/(id)`
  - 一覧、追加、詳細表示・更新はそれぞれ以下のような構成になる。
    - 一覧：`(複数系)`
    - 追加：`(複数系)/new`
    - 詳細表示・更新：`(複数系)/(id)`

## その他ルール

- コンポーネントやサービスのファイルは、利用されるページに近い場所に、それぞれ `_components`や`_service`フォルダに配置する。
- 特定のパス配下でのみ利用される定数のファイル（`constants.ts`）や、型定義のファイル（`types.ts`）は、`_service`配下に配置する
- `_components`や`_service`はなるべく利用されるページに近い場所にコロケーションする。
- 複数のページから共通で利用される場合は、一番近い共通の親のフォルダにコロケーションする。
- `_service`の複数の処理から呼び出される処理は、`_service`フォルダ内に`utils`フォルダを作成して、その中に配置する。utilsフォルダ内の処理はコンポーネントからは直接呼び出しません
- プロジェクト横断的に利用される、特定の機能に紐づかないコンポーネントは、`core/components`フォルダに配置する。
- プロジェクト横断的に利用される、特定の機能に紐づかない処理は、`core/lib`フォルダに配置する。
- プロジェクト横断的に利用される型定義ファイルは、`core/types`フォルダに配置する。
- 最初から共通化してスコープを広げるより、最初はなるべくスコープを狭めておいて共通で利用されるタイミングで共通の場所に移動することが望ましい
